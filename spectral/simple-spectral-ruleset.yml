rules:

  BRKC-api-name-doesnt-contain-api:
    description: The API name must not contain the word API
    message: The info.title value "{{value}}" contains the forbidden word API
    severity: error
    formats:
      - oas2
      - oas3
    given:
      - $.info
    then:
      - field: title
        function: pattern
        functionOptions:
          notMatch: /\b(api)\b/i

  BRKC-ensure-API-description:
    description: The API itself must have a description
    given: $.info
    severity: error
    message: API specifications must have a description
    then:
      field: description
      function: truthy   

  BRKC-ensure-param-description:
    description: Parameters must have a description.
    given: $.paths.*.*.parameters
    severity: error
    message: All parameters must have a description
    then:
      field: description
      function: truthy       


  BRKC-ensure-endpoint-summary:
    description: Endpoints must have a summary.
    given: $.paths.*.*
    severity: error
    message: All endpoints must have a summary
    then:
      field: summary
      function: truthy              
